
#include "component.h"

#include <iostream>

#include "editor/ComponentRegistry.h"
#include "engine.h"
#include "scene.h"

namespace v3d {

REGISTER_COMPONENT(AbsoluteASCIIComponent);
REGISTER_COMPONENT(CinemaASCIIComponent);
REGISTER_COMPONENT(TestComponent);

ComponentBase::~ComponentBase() {
    if (m_scene != nullptr) m_scene->getEngine()->unregisterGizmosTarget(this);
}

void ComponentBase::_init() {
    if (m_scene != nullptr) m_scene->getEngine()->registerGizmosTarget(this);
}

const char* CINEMA_ART_IMAGE = R"(
        ::::::--:::::::::::::::::::::-----------------------------------------------------------------------
        :::%@+#@+::::::::::::::::::::-----------------------------------------------------------------------
        :--@@**@#---+@*:::::::::----------------------------------------------------------------------------
        *@+@@%#@@---@@+---:::::--------------------------------------------===========---------=*=--#*===---
        *@#@@@%@@=-%@%------:::-------------------------------=================================+%*==%%+##===
        +@@%@@%@@=*@@+------------------------------==++++**+=-================================-%@*=%@*+@++*
        -@@@@@@@@@@%+-----------------------------=#@@@@@%@%%#*+================================+@@**@%*@*+%
        -@@@@@@@@@%*-:----------------------------%@@@@@%##**+=-+++==============================#@@@@@@@%*+
        -@@@@@@@@@%*---------------------------=*@@@@@@@%##***+-::===============================*@@@@@@@@#*
        -@@@@@@@@@@@%@@@%*+--------------------=@@@@@@@%%%%%##*=-::======++++++++++++=======*%%#*+#@@*@@@@@%
        -%@@@@@@@@@@@#=----------------------==+@@@@@@@@%%@@@%#+=::::=+++++++++++++++++++==+++===++*#%#+@@@@
        -*@@@@@@@%#+=-----------------------====@@@@@@@%##@@%#*++=:::=+++++++++++++++++++++++++++*#+#%*-+@@+
        -*@@@@%%*=--------------------------====@@@@%++++#@*-=+=-::::=++++++++++++++++++++++++++++***#*-+*#-
        -#@@@@%*:-------------------------=====*@@@@##**#@@#=#%*+:.::=++++++++++++++++++++++++++++++%###%@*-
        =@@@@@%+-------------------------======*@@@@@%#*%@@@*-##+=:::++++++++++++++++++++++++++******@@@@%*=
        +##**=-:.----------------------========+@@@@@%%@%@@%+::++=:::+****++++****++++**************+:::....
        *+#*+=-.:-------------------============#@@@@@%#@@%#+:.:--::-+*******************************=+*****
        =*#*+=:..:-------------=---=============+@@@@%#%%%#*=-:=+-:-*********************************+++==-:
        -++=---:::-------------=--================+@@@#%%@@%#+=++::+*********************************+=+===:
        --:---:..:-------------===================+#@##%%@@%*--::::+*********************************=-----:
        :----::..:----------===-=================*%*%%*----:::::...:=********************************=------
        :----::..:-----=*%#***+=********++****##%%*:=**#***+:::........-=+**+==--=+++*#*############*--:---:
        ::-:::...:----=%@@@%**-==--==--==---===++*=::+@%%#-:...::::::::::::.:::::::::-=#############*-::--:-
        :::::::..:----+@@@@*==---::-:::--::::::-=+:::=#*-:::---:--:::::::::.::::::::::..+*##########*-::--::
        :::::....::::::::-====-=-:::::::-:::-:-:-=:--=+::-------:-::::::::..::::::::.::.:.-*########*:::::::
        ::::::::....::------::-=-::::::::--:::--=-:+=::-=----===-*=-::::::..::::::::.:.:::::::::-=**=::-::::
        :::::::....:----::-:..-=-::::::::--:---=-:--:-=-:-===+=++#+--::::.:::::::.....:::::::::::::::::::::.
        -:::::....::--::::::..:-=::::::::-:::=+=::--==---=====+++*+=----:::-:::::.....::::::::---::::::::::.
        --::..::.:::.::....::.:---:::.:::-:::-=-:--=---=====--=++*+---=-.:::::::..........::::::-::::..::...
        %#=--:..::............:--:::::::---::---:==-=====--==---=++-==-:.::::::::.......::..::::::::.:::::::
        =--:-:................:--:::::::::-::--:-=====----==+==--=+-==:..:::::::........::::...:::::::::----
        ::::::.:--:..........:::---::::.::-@%-#@@@+@@@=@@@+%*=+@-@*%@@#@@%=::::...........:......-+#%@@@@@%#
        ::::::::-++=*%%=:....:::---:-:::::#%@+#@@@-*@@*@-*@%*:+@-@#*@=.@@@:::::..............::.#%%%@@@@@%*+
        ::::::::-=+--+#=:....:::--::::.::-@-=@#@@@+@@@=%@@=@@@*@@@=+@=.@@@*:::::.............:.+%%%%@@@@%*+=
        :::::::::-=-::--:.....:::::::::::-::...:========-----------=:..::::::::::.............=%%%#@@@%%#+==
        ::::::::::-:.....+@@@@@@#:::@@@=-#@@@.:==*@@#=+@@@@@@@@@:@@@@+-::::*@@@%:::.:%@@@.....+###%@@@%#*+=-
        :::::::.........@@@*::+@@@-:@@@+:#@@@@===#@@#=+@@%======-@@@@@::::-@@@@%....+@@@@*...:*###@@@%##*=--
        .::::::........#@@#::::+@%+:@@@=:#@@@@@+=*@@#==@@%==-::--@@@@@%:::@@@@@%...:@@@@@@-..:*##%@@@%#*+---
        ..:::..........@@@*.::::::::@@@=:#@@+@@@+*@@*-=@@@@@@@@--@@@#@@+.#@@#@@%...@@@-:@@@..:+#*%@@%%#*=---
        ...............%@@*.::::::::@@@=:#@@+-#@@@@@*.-@@%+=:....@@@=#@@*@@++@@%..*@@@**%@@*..-#*%@@%#**---:
        ...............=@@@-::-@@@+:@@@=.#@@=::*@@@@#-=@@%.......@@@+.@@@@%.*@@%.=@@@@@@@@@@=.:**#@%##*+--::
        ................-@@@@@@@@+::@@@=.#@@=...+@@@*.-@@@@@@@@@:@@@+.:@@@:.*@@%:@@@+....=@@@::*+#%#***=--::
        ...................:==-::::::.........................................................-*+*#**+---:::
        .....................................................................................:++++#*+--:::::
                )";

const char* CINEMA_ART_TEXT = R"(            
         ____          ______       __  __       ____                       ______     
        /\  _`\       /\__  _\     /\ \/\ \     /\  _`\        /'\_/`\     /\  _  \
        \ \ \/\_\     \/_/\ \/     \ \ `\\ \    \ \ \L\_\     /\      \    \ \ \L\ \
         \ \ \/_/_       \ \ \      \ \ , ` \    \ \  _\L     \ \ \__\ \    \ \  __ \
          \ \ \L\ \       \_\ \__    \ \ \`\ \    \ \ \L\ \    \ \ \_/\ \    \ \ \/\ \
           \ \____/       /\_____\    \ \_\ \_\    \ \____/     \ \_\\ \_\    \ \_\ \_\
            \/___/        \/_____/     \/_/\/_/     \/___/       \/_/ \/_/     \/_/\/_/
                        )";

const char* ABSOLUTE_ART_TEXT = R"(            
         $$$$$$\  $$$$$$$\   $$$$$$\   $$$$$$\  $$\      $$\   $$\ $$$$$$$$\ $$$$$$$$\
        $$  __$$\ $$  __$$\ $$  __$$\ $$  __$$\ $$ |     $$ |  $$ |\__$$  __|$$  _____|
        $$ /  $$ |$$ |  $$ |$$ /  \__|$$ /  $$ |$$ |     $$ |  $$ |   $$ |   $$ |      
        $$$$$$$$ |$$$$$$$\ |\$$$$$$\  $$ |  $$ |$$ |     $$ |  $$ |   $$ |   $$$$$\
        $$  __$$ |$$  __$$\  \____$$\ $$ |  $$ |$$ |     $$ |  $$ |   $$ |   $$  __|
        $$ |  $$ |$$ |  $$ |$$\   $$ |$$ |  $$ |$$ |     $$ |  $$ |   $$ |   $$ |      
        $$ |  $$ |$$$$$$$  |\$$$$$$  | $$$$$$  |$$$$$$$$\\$$$$$$  |   $$ |   $$$$$$$$\
        \__|  \__|\_______/  \______/  \______/ \________|\______/    \__|   \________|
                             )";
void TestComponent::update(double deltaTime) {
    std::cout << CINEMA_ART_IMAGE << "\n\n\n";
};
void AbsoluteASCIIComponent::update(double deltaTime) {
    std::cout << ABSOLUTE_ART_TEXT << "\n\n\n";
};
void CinemaASCIIComponent::update(double deltaTime) {
    std::cout << CINEMA_ART_TEXT << "\n\n\n";
};
}  // namespace v3d