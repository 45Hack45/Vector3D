#pragma once

#include <boost/uuid/uuid.hpp>
#include <memory>
#include <string>
#include <typeinfo>

namespace v3d {
class Entity;
typedef boost::uuids::uuid componentID_t;
class Component {
    friend class Entity;

   public:

   const char* CINEMA_ART_IMAGE = R"(
::::::--:::::::::::::::::::::-----------------------------------------------------------------------
:::%@+#@+::::::::::::::::::::-----------------------------------------------------------------------
:--@@**@#---+@*:::::::::----------------------------------------------------------------------------
*@+@@%#@@---@@+---:::::--------------------------------------------===========---------=*=--#*===---
*@#@@@%@@=-%@%------:::-------------------------------=================================+%*==%%+##===
+@@%@@%@@=*@@+------------------------------==++++**+=-================================-%@*=%@*+@++*
-@@@@@@@@@@%+-----------------------------=#@@@@@%@%%#*+================================+@@**@%*@*+%
-@@@@@@@@@%*-:----------------------------%@@@@@%##**+=-+++==============================#@@@@@@@%*+
-@@@@@@@@@%*---------------------------=*@@@@@@@%##***+-::===============================*@@@@@@@@#*
-@@@@@@@@@@@%@@@%*+--------------------=@@@@@@@%%%%%##*=-::======++++++++++++=======*%%#*+#@@*@@@@@%
-%@@@@@@@@@@@#=----------------------==+@@@@@@@@%%@@@%#+=::::=+++++++++++++++++++==+++===++*#%#+@@@@
-*@@@@@@@%#+=-----------------------====@@@@@@@%##@@%#*++=:::=+++++++++++++++++++++++++++*#+#%*-+@@+
-*@@@@%%*=--------------------------====@@@@%++++#@*-=+=-::::=++++++++++++++++++++++++++++***#*-+*#-
-#@@@@%*:-------------------------=====*@@@@##**#@@#=#%*+:.::=++++++++++++++++++++++++++++++%###%@*-
=@@@@@%+-------------------------======*@@@@@%#*%@@@*-##+=:::++++++++++++++++++++++++++******@@@@%*=
+##**=-:.----------------------========+@@@@@%%@%@@%+::++=:::+****++++****++++**************+:::....
*+#*+=-.:-------------------============#@@@@@%#@@%#+:.:--::-+*******************************=+*****
=*#*+=:..:-------------=---=============+@@@@%#%%%#*=-:=+-:-*********************************+++==-:
-++=---:::-------------=--================+@@@#%%@@%#+=++::+*********************************+=+===:
--:---:..:-------------===================+#@##%%@@%*--::::+*********************************=-----:
:----::..:----------===-=================*%*%%*----:::::...:=********************************=------
:----::..:-----=*%#***+=********++****##%%*:=**#***+:::........-=+**+==--=+++*#*############*--:---:
::-:::...:----=%@@@%**-==--==--==---===++*=::+@%%#-:...::::::::::::.:::::::::-=#############*-::--:-
:::::::..:----+@@@@*==---::-:::--::::::-=+:::=#*-:::---:--:::::::::.::::::::::..+*##########*-::--::
:::::....::::::::-====-=-:::::::-:::-:-:-=:--=+::-------:-::::::::..::::::::.::.:.-*########*:::::::
::::::::....::------::-=-::::::::--:::--=-:+=::-=----===-*=-::::::..::::::::.:.:::::::::-=**=::-::::
:::::::....:----::-:..-=-::::::::--:---=-:--:-=-:-===+=++#+--::::.:::::::.....:::::::::::::::::::::.
-:::::....::--::::::..:-=::::::::-:::=+=::--==---=====+++*+=----:::-:::::.....::::::::---::::::::::.
--::..::.:::.::....::.:---:::.:::-:::-=-:--=---=====--=++*+---=-.:::::::..........::::::-::::..::...
%#=--:..::............:--:::::::---::---:==-=====--==---=++-==-:.::::::::.......::..::::::::.:::::::
=--:-:................:--:::::::::-::--:-=====----==+==--=+-==:..:::::::........::::...:::::::::----
::::::.:--:..........:::---::::.::-@%-#@@@+@@@=@@@+%*=+@-@*%@@#@@%=::::...........:......-+#%@@@@@%#
::::::::-++=*%%=:....:::---:-:::::#%@+#@@@-*@@*@-*@%*:+@-@#*@=.@@@:::::..............::.#%%%@@@@@%*+
::::::::-=+--+#=:....:::--::::.::-@-=@#@@@+@@@=%@@=@@@*@@@=+@=.@@@*:::::.............:.+%%%%@@@@%*+=
:::::::::-=-::--:.....:::::::::::-::...:========-----------=:..::::::::::.............=%%%#@@@%%#+==
::::::::::-:.....+@@@@@@#:::@@@=-#@@@.:==*@@#=+@@@@@@@@@:@@@@+-::::*@@@%:::.:%@@@.....+###%@@@%#*+=-
:::::::.........@@@*::+@@@-:@@@+:#@@@@===#@@#=+@@%======-@@@@@::::-@@@@%....+@@@@*...:*###@@@%##*=--
.::::::........#@@#::::+@%+:@@@=:#@@@@@+=*@@#==@@%==-::--@@@@@%:::@@@@@%...:@@@@@@-..:*##%@@@%#*+---
..:::..........@@@*.::::::::@@@=:#@@+@@@+*@@*-=@@@@@@@@--@@@#@@+.#@@#@@%...@@@-:@@@..:+#*%@@%%#*=---
...............%@@*.::::::::@@@=:#@@+-#@@@@@*.-@@%+=:....@@@=#@@*@@++@@%..*@@@**%@@*..-#*%@@%#**---:
...............=@@@-::-@@@+:@@@=.#@@=::*@@@@#-=@@%.......@@@+.@@@@%.*@@%.=@@@@@@@@@@=.:**#@%##*+--::
................-@@@@@@@@+::@@@=.#@@=...+@@@*.-@@@@@@@@@:@@@+.:@@@:.*@@%:@@@+....=@@@::*+#%#***=--::
...................:==-::::::.........................................................-*+*#**+---:::
.....................................................................................:++++#*+--:::::
        )";

        const char* CINEMA_ART_TEXT = R"(            
 ____          ______       __  __       ____                       ______     
/\  _`\       /\__  _\     /\ \/\ \     /\  _`\        /'\_/`\     /\  _  \    
\ \ \/\_\     \/_/\ \/     \ \ `\\ \    \ \ \L\_\     /\      \    \ \ \L\ \   
 \ \ \/_/_       \ \ \      \ \ , ` \    \ \  _\L     \ \ \__\ \    \ \  __ \  
  \ \ \L\ \       \_\ \__    \ \ \`\ \    \ \ \L\ \    \ \ \_/\ \    \ \ \/\ \ 
   \ \____/       /\_____\    \ \_\ \_\    \ \____/     \ \_\\ \_\    \ \_\ \_\
    \/___/        \/_____/     \/_/\/_/     \/___/       \/_/ \/_/     \/_/\/_/
                )";

                const char* ABSOLUTE_ART_TEXT = R"(            
 $$$$$$\  $$$$$$$\   $$$$$$\   $$$$$$\  $$\      $$\   $$\ $$$$$$$$\ $$$$$$$$\ 
$$  __$$\ $$  __$$\ $$  __$$\ $$  __$$\ $$ |     $$ |  $$ |\__$$  __|$$  _____|
$$ /  $$ |$$ |  $$ |$$ /  \__|$$ /  $$ |$$ |     $$ |  $$ |   $$ |   $$ |      
$$$$$$$$ |$$$$$$$\ |\$$$$$$\  $$ |  $$ |$$ |     $$ |  $$ |   $$ |   $$$$$\    
$$  __$$ |$$  __$$\  \____$$\ $$ |  $$ |$$ |     $$ |  $$ |   $$ |   $$  __|   
$$ |  $$ |$$ |  $$ |$$\   $$ |$$ |  $$ |$$ |     $$ |  $$ |   $$ |   $$ |      
$$ |  $$ |$$$$$$$  |\$$$$$$  | $$$$$$  |$$$$$$$$\\$$$$$$  |   $$ |   $$$$$$$$\ 
\__|  \__|\_______/  \______/  \______/ \________|\______/    \__|   \________|
                     )";

    Component() = default;
    virtual ~Component() = default;

    virtual void start() = 0;
    virtual void update(double deltaTime) = 0;

    virtual std::string getComponentName() {
        return typeid(this).name();
    }

   private:
   protected:
    componentID_t m_id;
    Entity *m_entity;
};

class DataComponent : public Component {
   public:
    DataComponent() = default;
    void update(double deltaTime) {};
    virtual void start() {};
};

class TestComponent : public Component {
    public:
     TestComponent() = default;
     TestComponent(int value) : testVariable(value) {};
     bool test_method() { return true; }
 
     void start() override {};
     void update(double deltaTime) override {
         std::cout << Component::CINEMA_ART_IMAGE << "\n\n\n";
     };
 
    private:
     int testVariable;
 };

class AbsoluteASCIIComponent : public Component {
   public:
    AbsoluteASCIIComponent() = default;
    AbsoluteASCIIComponent(int value) : testVariable(value) {};
    bool test_method() { return true; }

    void start() override {};
    void update(double deltaTime) override {
        std::cout << Component::ABSOLUTE_ART_TEXT << "\n\n\n";
    };

   private:
    int testVariable;
};

class CinemaASCIIComponent : public Component {
    public:
     CinemaASCIIComponent() = default;
     CinemaASCIIComponent(int value) : testVariable(value) {};
     bool test_method() { return true; }
 
     void start() override {};
     void update(double deltaTime) override {
         std::cout << Component::CINEMA_ART_TEXT << "\n\n\n";
     };
 
    private:
     int testVariable;
 };

class TestDataComponent : public DataComponent {
   public:
    TestDataComponent() = default;
    void start() override {};
    void update(double deltaTime) override {};
    int testDataComponentField;
};

}  // namespace v3d
